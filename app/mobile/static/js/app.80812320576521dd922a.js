webpackJsonp([9],{101:function(e,t,n){"use strict"},102:function(e,t,n){"use strict";n(136),n(135)},103:function(e,t,n){"use strict";var a=n(3),o=n(264),s=n(139),i=n(138);a.default.use(o.a),t.a=new o.a({routes:[s.a,i.a]})},105:function(e,t){},106:function(e,t){},107:function(e,t){},108:function(e,t){},109:function(e,t){},135:function(e,t,n){"use strict";function a(e){return("00"+e).substr(e.length)}var o=n(3);o.default.filter("date",function(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var o in n)if(new RegExp("("+o+")").test(t)){var s=n[o]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?s:a(s))}return t})},136:function(e,t,n){"use strict";var a=n(3);a.default.filter("number",function(e){var t=parseFloat(e);if(!isNaN(t)){var t=Math.round(100*e)/100,n=t.toString(),a=n.indexOf(".");for(a<0&&(a=n.length,n+=".");n.length<=a+2;)n+="0";return n}})},137:function(e,t,n){"use strict";function a(e){var t=JSON.parse(localStorage.getItem(e)),n=function(){for(var n="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f",a=n.split(","),o="",i=0;i<128;i++)o+=a[Math.floor(16*Math.random())].toString(16);var r=o.toUpperCase();return null==t?localStorage[e]=s()({privateKey:r}):(t.privateKey=r,localStorage[e]=s()(t)),r};return t&&t.privateKey?t.privateKey:n()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),s=n.n(o),i=n(3),r=n(103),u=n(104),p=n.n(u),c=(n(102),n(101),n(108)),d=(n.n(c),n(106)),l=(n.n(d),n(107)),m=(n.n(l),n(109)),y=(n.n(m),n(111)),g=n.n(y),f=n(105),h=(n.n(f),n(110)),_=n.n(h),b=n(64),v=n(36);i.default.use(p.a),i.default.use(g.a),_.a.attach(document.body);var E=function(){i.default.config.productionTip=!1,window.vueVm=new i.default({el:"#app",data:function(){return{}},router:r.a,components:{}})};window.addEventListener("YMTJSBridgeReady",function(){Was.exec("app","getAppInfo","",function(e){var t=JSON.parse(e.data);b.a.setProvider(t.contractUrl),b.a.addContract("JuzixTokenManager",v.a.JuzixTokenManager.abi,"","0.0.1.0","TokenModuleManager","0.0.1.0"),Was.exec("user","getUserInfo","",function(e){var t=JSON.parse(e.data);console.log("getUserInfo===="+e.data),b.a.setAddress(t.userAddr),b.a.setUserType(t.type),b.a.setPrivateKey(t.privateKey),console.log("用户地址"+t.userAddr),console.log("用户私钥"+t.privateKey);var n=a(t.userAddr);console.log("随机密钥"+n);var o={privateKey:n};b.a.setprivateKeyRandom(n);var i=JSON.parse(localStorage[t.userAddr]);console.log("localStorage[data.userAddr]1===="+localStorage[t.userAddr]),null!=i&&i.publicKey?b.a.setpublicKey(i.publicKey):Was.exec("nizk","getPubkey",o,function(e){i.publicKey=e.data,localStorage[t.userAddr]=s()(i),console.log("localStorage[data.userAddr]2 ===="+localStorage[t.userAddr]),b.a.setpublicKey(e.data)})}),E()})})},138:function(e,t,n){"use strict";t.a={path:"*",redirect:{path:"/index"},hidden:!0}},139:function(e,t,n){"use strict";var a=function(e){return n.e(7).then(function(){var t=[n(272)];e.apply(null,t)}.bind(this)).catch(n.oe)},o=function(e){return n.e(3).then(function(){var t=[n(273)];e.apply(null,t)}.bind(this)).catch(n.oe)},s=function(e){return n.e(6).then(function(){var t=[n(274)];e.apply(null,t)}.bind(this)).catch(n.oe)},i=function(e){return n.e(5).then(function(){var t=[n(275)];e.apply(null,t)}.bind(this)).catch(n.oe)},r=function(e){return n.e(2).then(function(){var t=[n(277)];e.apply(null,t)}.bind(this)).catch(n.oe)},u=function(e){return n.e(4).then(function(){var t=[n(276)];e.apply(null,t)}.bind(this)).catch(n.oe)},p=function(e){return n.e(0).then(function(){var t=[n(279)];e.apply(null,t)}.bind(this)).catch(n.oe)},c=function(e){return n.e(1).then(function(){var t=[n(278)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.a={path:"/",component:a,name:"Index",redirect:"/welcome",children:[{path:"/welcome",component:o,name:"股权交易"},{path:"/welcome/address",component:s,name:"我的账户地址"},{path:"/welcome/equityRegister",component:i,name:"股权登记"},{path:"/welcome/registerRecord",component:r,name:"登记记录"},{path:"/welcome/noTransfer",component:u,name:"非交易过户"},{path:"/welcome/turnRecord",component:p,name:"转出记录"},{path:"/welcome/turnInRecord",component:c,name:"转入记录"}]}},215:function(e,t){e.exports={name:"elliptic",version:"6.4.0",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},_from:"elliptic@6.4.0",_resolved:"http://registry.npm.taobao.org/elliptic/download/elliptic-6.4.0.tgz"}},216:function(e,t){e.exports={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward:{v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward:{v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}}},267:function(e,t){},268:function(e,t){},269:function(e,t){},36:function(e,t,n){"use strict";var a={JuzixTokenManager:{abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowancePaillier",outputs:[{name:"remaining",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_contractName",type:"string"},{name:"_contractVersion",type:"string"}],name:"register",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_address",type:"address"}],name:"getPubkey",outputs:[{name:"_pubKey",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_address",type:"address"}],name:"setOwner",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"getErrno",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupplyPaillier",outputs:[{name:"_supply",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"nizkpp",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_buyAddr",type:"address"},{name:"_pageNum",type:"uint256"},{name:"_pageSize",type:"uint256"}],name:"listAllBuyBalance",outputs:[{name:"_json",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_str2",type:"string"},{name:"_str3",type:"string"}],name:"log",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"INITIAL_SUPPLY",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_addr",type:"address"}],name:"log",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_i",type:"int256"}],name:"log",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_newOwner",type:"address"}],name:"changeModuleRegisterOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"}],name:"register",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"}],name:"log",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"kill",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_param",type:"string"},{name:"_to",type:"address"}],name:"buyFrom",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_str2",type:"string"}],name:"log",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"getSender",outputs:[{name:"_ret",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_contractName",type:"string"},{name:"_contractVersion",type:"string"},{name:"_newOwner",type:"address"}],name:"changeContractRegisterOwner",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_name",type:"string"},{name:"_key",type:"string"},{name:"_value",type:"string"}],name:"writedb",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"_ret",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"getNizkStruct",outputs:[{name:"_ret",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOfPaillier",outputs:[{name:"_balance",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_str",type:"string"},{name:"_ui",type:"uint256"}],name:"log",outputs:[{name:"_ret",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"isAdmin",outputs:[{name:"_json",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_account",type:"address"},{name:"_pageNum",type:"uint256"},{name:"_pageSize",type:"uint256"}],name:"pageBuyRecordByAccount",outputs:[{name:"_json",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"string"}],name:"approvePaillier",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_pubKey",type:"string"}],name:"setPubkey",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_circulationShares",type:"string"}],name:"setCirculationShares",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_account",type:"address"},{name:"_tranferType",type:"uint256"},{name:"_pageNum",type:"uint256"},{name:"_pageSize",type:"uint256"}],name:"pageByAccount",outputs:[{name:"_json",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"init",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_param",type:"string"},{name:"_to",type:"address"}],name:"transferPaillier",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{inputs:[],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"string"}],name:"TransferPailler",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"string"}],name:"ApprovalPailler",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_errno",type:"uint256"},{indexed:!1,name:"_info",type:"string"}],name:"Notify",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]}};t.a=a},64:function(e,t,n){"use strict";(function(e){var a=n(143),o=n.n(a),s=n(144),i=n.n(s),r=n(37),u=n.n(r),p=n(145),c=n.n(p),d=(n(36),n(84)),l=n(260),m=n(150),y=[{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_contractName",type:"string"},{name:"_contractVersion",type:"string"}],name:"register",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"findModuleNameByAddress",outputs:[{name:"_moduleName",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_contractAddr",type:"address"}],name:"IfContractRegist",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"unRegister",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"}],name:"IfModuleRegist",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"}],name:"getModuleAddress",outputs:[{name:"_address",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_fromModuleNameAndVersion",type:"string"},{name:"_fromNameAndVersion",type:"string"},{name:"_toModuleNameAndVersion",type:"string"},{name:"_toNameAndVersion",type:"string"},{name:"_signString",type:"string"}],name:"transferContract",outputs:[{name:"_errno",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_contractName",type:"string"},{name:"_contractVersion",type:"string"}],name:"IfContractRegist",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_newOwner",type:"address"}],name:"changeModuleRegisterOwner",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"}],name:"register",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"findContractVersionByAddress",outputs:[{name:"_contractVersion",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"findResNameByAddress",outputs:[{name:"_contractName",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_contractName",type:"string"},{name:"_contractVersion",type:"string"},{name:"_newOwner",type:"address"}],name:"changeContractRegisterOwner",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_moduleName",type:"string"},{name:"_moduleVersion",type:"string"},{name:"_contractName",type:"string"},{name:"_contractVersion",type:"string"}],name:"getContractAddress",outputs:[{name:"_address",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"findModuleVersionByAddress",outputs:[{name:"_moduleVersion",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_pageNum",type:"uint256"},{name:"_pageSize",type:"uint256"}],name:"getRegisteredContract",outputs:[{name:"_json",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_moduleAddr",type:"address"}],name:"IfModuleRegist",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{inputs:[],payable:!1,type:"constructor"}],g=function(e){return"[object Array]"===Object.prototype.toString.call(e)},f=function(e){return"object"==(void 0===e?"undefined":c()(e))&&"[object object]"==Object.prototype.toString.call(e).toLowerCase()&&!e.length},h=function(e){return e.map(function(e,t,n){return f(e)?u()(e):e})},_=function(e){console.log("dealData"+e);var t=parseInt(e.substr(2,64),16),n=(parseInt(e.substr(66,64),16),2*parseInt(e.substr(130,64),16)),a=e.substr(194,n);if(console.log("code=="+t+"dataLength=="+n+"data"+a),n%2==0)for(var o="",s=0;s<n;s+=2){var e=a.substr(s,2),i=parseInt(e,16);o+=String.fromCharCode(i)}return console.log("code==",t,"data==",a,"StrHex===",o,"dataLength==",n),{code:t,data:o}},b=function(){function t(){o()(this,t),this.web3=null,this.provider="",this.privateKey="",this.userAddress="",this.userType="",this.nonce="",this.MetaCoin=null,this._contracts={},this.publicKey="",this.privateKeyRandom="",this.callbacks={},this.wrapCount=60,this.timeout=60}return i()(t,[{key:"initWeb3",value:function(){null==this.web3&&(this.web3=new Web3(new Web3.providers.HttpProvider(this.provider)))}},{key:"setProvider",value:function(e){this.provider=e,this.web3=new Web3(new Web3.providers.HttpProvider(this.provider)),this.initRegisterContract()}},{key:"setPrivateKey",value:function(e){this.privateKey=e}},{key:"setAddress",value:function(e){this.userAddress=e}},{key:"setUserType",value:function(e){this.userType=e}},{key:"setNonce",value:function(){for(var t=(new Date).getTime(),n=e.from(this.web3.sha3(l()).replace("0x",""),"hex"),a=7;a>=0;a--){n[a]=t%256,t/=256}this.nonce=n}},{key:"setprivateKeyRandom",value:function(e){this.privateKeyRandom=e}},{key:"setpublicKey",value:function(e){this.publicKey=e}},{key:"getpublicKey",value:function(){return this.publicKey}},{key:"getprivateKeyRandom",value:function(){return this.privateKeyRandom}},{key:"getProvider",value:function(){return this.provider}},{key:"getAddress",value:function(){return this.userAddress}},{key:"getBlockDetail",value:function(e){return console.log("--------根据区块高获取区块详情---------",e),this.web3.eth.getBlock(e)}},{key:"initRegisterContract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x0000000000000000000000000000000000000011",n=this.web3.eth.contract(e),a=n.at(t),o={ABI:e,address:t,contract:a};this._contracts.RegisterManager=o}},{key:"addContract",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0x0000000000000000000000000000000000000000",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0.0.1.0",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"SystemModuleManager",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0.0.1.0";this._contracts.RegisterManager||this.initRegisterContract();var i=this._contracts.RegisterManager.contract,r=i.getContractAddress.call(o,s,e,a);"0x0000000000000000000000000000000000000000"!=r&&(n=r);var u=this.web3.eth.contract(t),p=u.at(n),c={ABI:t,address:n,contract:p,version:a,moduleName:o,moduleVersion:s};this._contracts[e]=c}},{key:"getContract",value:function(e){return this._contracts[e]}},{key:"call",value:function(e,t,n){var a=this.getContract(e).contract;n.push({from:this.userAddress});var o=a[t].apply(null,n);return JSON.parse(o)}},{key:"sendRawTrasaction",value:function(t,n,a,o,s){var i=this;this.setNonce();var r=this.getContract(t).contract,u=this.getData(t,n,a),p={nonce:this.nonce,gasPrice:21e9,gasLimit:843314949521407,to:r.address,value:0,data:u},c=new d(p);if(this.privateKey&&1==this.userType){var l=e.from(this.privateKey,"hex");console.log("privateKey"+l),c.sign(l);var y=c.serialize(),g="0x"+y.toString("hex"),f=this.web3.eth.sendRawTransaction(g);console.log("hash=="+f),this.callbacks[f]={cb:s,wrapCount:this.wrapCount},this.getTransactionReceipt(f)}else 2==this.userType&&(console.info(p),m.rlp(p,function(e,t){0===e?(console.log("rlp====="+t),window.Was.exec("wallet","sign",{rlpEncodedData:t},function(e){if(console.log(e.code+"msg"+e.msg),0==e.code){console.info("code2==0");var t=e.data,n=void 0;n="0x"==t.slice(0,2)?t.toString("hex"):"0x"+t.toString("hex");var a=i.web3.eth.sendRawTransaction(n);console.log("hash",a),i.callbacks[a]={cb:s,wrapCount:i.wrapCount},i.getTransactionReceipt(a)}else cd(e.code,e.msg)})):alert("rlp error"+e)}))}},{key:"getData",value:function(e,t,n){var a=this.getContract(e).contract;return n=h(n),g(n)?a[t].getData.apply(null,n):"string"==typeof n?a[t].getData(n):void console.warn("argumentList参数类型不正确！！！")}},{key:"watchEvent",value:function(e,t,n,a){var o=this;t||(t="Notify"),setTimeout(function(){var s=o.getContract(e).contract,i=s[t]({_info:s.address},{fromBlock:0,toBlock:"latest"});i.watch(function(o,s){if(s.transactionHash==n){i.stopWatching(),console.log(e+" "+t+"@result==》",s.args._error,s.args._info);var r=Number(s.args._errno||s.args._error);a&&a(r,s.args._info)}})},1e3)}},{key:"getTransactionReceipt",value:function(e){var t=this;console.log("hash========"+e);var n="",a=this.web3.eth.getTransactionReceipt(e),o={};a&&a.transactionHash&&e==a.transactionHash?(clearTimeout(n),0!=a.logs.length?(o=_(a.logs[0].data),this.callbacks[e].cb(o.code,o.data),delete this.callbacks[e]):this.callbacks[e].cb(1001,"合约异常，失败")):this.callbacks[e].wrapCount--?(console.log(this.callbacks[e].wrapCount),n=setTimeout(function(){t.getTransactionReceipt(e)},1e3)):(this.callbacks[e].cb(999,"超时"),console.warn("sendRawTrasaction超时"),n="",delete this.callbacks[e])}},{key:"stopWatch",value:function(e,t){}}]),t}();t.a=new b}).call(t,n(1).Buffer)},95:function(e,t){e.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}},[137]);
//# sourceMappingURL=app.80812320576521dd922a.js.map